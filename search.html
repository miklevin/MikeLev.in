---
title: Search
permalink: /search/
layout: default
---

<div id="search-container">
  <input type="text" id="search-input" placeholder="Search blog posts...">
  <div id="results-container"></div>
</div>

<script src="https://unpkg.com/lunr/lunr.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Fetch the search index
  fetch('/search.json')
    .then(response => response.json())
    .then(data => {
      // Initialize lunr with data
      const idx = lunr(function() {
        this.ref('url')
        this.field('title', { boost: 10 })
        this.field('content')
        this.field('keywords', { boost: 5 })
        this.field('description', { boost: 2 })
        
        data.forEach(function(doc) {
          this.add(doc)
        }, this)
      })
      
      // Store the index and data for later use
      window.searchIndex = idx
      window.searchData = data
      
      // Set up event listener for search input
      document.getElementById('search-input').addEventListener('keyup', function() {
        const query = this.value
        const results = window.searchIndex.search(query)
        const resultsContainer = document.getElementById('results-container')
        
        if (query === '') {
          resultsContainer.innerHTML = ''
          return
        }
        
        if (results.length === 0) {
          resultsContainer.innerHTML = '<p>No results found</p>'
          return
        }
        
        // Display results
        resultsContainer.innerHTML = results
          .map(result => {
            const item = window.searchData.find(post => post.url === result.ref)
            return `
              <div class="search-result">
                <h3><a href="${item.url}">${item.title}</a></h3>
                <p class="date">${item.date}</p>
                ${item.description ? `<p class="description">${item.description}</p>` : ''}
                ${item.keywords ? `<p class="keywords"><small>Keywords: ${item.keywords}</small></p>` : ''}
              </div>
            `
          })
          .join('')
      })
    })
})
</script>

<style>
  #search-container {
    margin: 20px 0;
  }
  
  #search-input {
    width: 100%;
    padding: 10px;
    font-size: 16px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 20px;
  }
  
  .search-result {
    margin-bottom: 30px;
  }
  
  .search-result h3 {
    margin-bottom: 5px;
  }
  
  .search-result .date {
    color: #666;
    font-size: 14px;
    margin-bottom: 10px;
  }
  
  .search-result .description {
    margin-bottom: 5px;
  }
  
  .search-result .keywords {
    color: #666;
  }
</style> 